package metier;

import java.util.Set;

import dao.DAOFactory;
import dao.comptes.ComptesDAO;
import factory.Compte;
import factory.CompteCourant;

public class CompteServiceImpl implements CompteService {
	 private ComptesDAO comptedao;
	 private Integer nbcomptecourant = 0;
	 private Integer nbcompteepargne = 0;

	 

	public CompteServiceImpl(ComptesDAO compteDAO) {
		this.comptedao = compteDAO;
	}


	public void creerCompteCourant(String ID, String nom, String prenom, double solde, double montantdecouvert) {
		String intituleCompte = creerIntitulecourant(nom,prenom);		
		CompteCourant compte1 = new CompteCourant(ID,intituleCompte,solde, montantdecouvert);
		comptedao.saveCompteCourant(compte1);
	}
	
	


	public Set<Compte> findAll() {
		// TODO Auto-generated method stub
		return null;
	}

	
	public void delete(String intitule) {
		// TODO Auto-generated method stub
		
	}
	
	private String creerIntitulecourant(String nom, String prenom){
		
		StringBuilder ch = new StringBuilder();
		ch.append(nom.toUpperCase());
		ch.append("_");
		ch.append(prenom.toUpperCase());
		ch.append("_COURANT_");
		nbcomptecourant++;
		ch.append(nbcomptecourant);
		
		return ch.toString();		
	
	}


	@Override
	public void creerCompteEpargne(String numero, String intitule, double solde, double TauInteret) {
		
		
	}

}
